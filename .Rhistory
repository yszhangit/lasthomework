install.packages('shiny')
install.packages('leaflet')
install.packages('kintr')
install.packages('caret')
install.packages('googleway')
install.packages('jqr')
install.packages('jqr')
install.packages('googleway')
install.packages('googleway')
install.packages('knitr')
library('googleway')
key <- readline('google.key')
key
getwd()
setwd('dev/R/lasthomework/.git/')
setwd('~/dev/R/lasthomework')
key <- readline('google.key')
key
ls90
ls()
key <- readline('google.key')
ls()
getwd()
key <- readline('google.key')
key
readLines('google.key')
key <- readlines('google.key')
key <- readLines('google.key')
res <- google_places(search_string = query, key = api_key)
query <- "Costco VA"
res <- google_places(search_string = query, key = api_key)
res <- google_places(search_string = query, key = key)
res$results
head(res$results)
colnames(res$results)
?while
?for
length(res$results)
dim(res$results)[1]
?merge
colnames(res$results)
colnames(res$results$geometry)
colnames(res$results$geometry$location)
res$results$place_id
cnt < 20
page_cnt <-1
stores <- data.frame()
while cnt == 20 & page_cnt <= 3 {
res <- google_places(search_string = query, key = key)
cnt <- dim(res$results)[1]
page_cnt <- page_cnt + 1
next_page <- res$next_page_token
place_ids <- res$results$place_id
lat <- res$results$geometry$location$lat
lng <- res$results$geometry$location$lng
ratings <- res$results$rating
addr <- res$results$formatted_address
new_res <- data.frame(place_id, lat,lng,ratings, addr)
}
res$results$place_id
?merge
while cnt == 20 & page_cnt <= 3 {
res <- google_places(search_string = query, key = key)
cnt <- dim(res$results)[1]
page_cnt <- page_cnt + 1
next_page <- res$next_page_token
place_ids <- res$results$place_id
lat <- res$results$geometry$location$lat
lng <- res$results$geometry$location$lng
ratings <- res$results$rating
addr <- res$results$formatted_address
new_res <- data.frame(place_id = place_ids,
lat = lat,
lng = lng,
rating = ratings,
address = addr)
merge(stores, new_res, by='place_id', all=TRUE)
}
addr <- res$results$formatted_address
while cnt == 20 & page_cnt <= 3 {
res <- google_places(search_string = query, key = key)
cnt <- dim(res$results)[1]
page_cnt <- page_cnt + 1
next_page <- res$next_page_token
place_ids <- res$results$place_id
lat <- res$results$geometry$location$lat
lng <- res$results$geometry$location$lng
ratings <- res$results$rating
addr <- res$results$formatted_address
new_res <- data.frame(place_id = place_ids,
lat = lat,
lng = lng,
rating = ratings,
address = addr)
merge(stores, new_res, by=c('place_id'), all=TRUE)
}
new_res <- data.frame(place_id = place_ids,
lat = lat,
lng = lng,
rating = ratings,
address = addr)
while cnt == 20 & page_cnt <= 3 {
res <- google_places(search_string = query, key = key)
cnt <- dim(res$results)[1]
page_cnt <- page_cnt + 1
next_page <- res$next_page_token
place_ids <- res$results$place_id
lat <- res$results$geometry$location$lat
lng <- res$results$geometry$location$lng
ratings <- res$results$rating
addr <- res$results$formatted_address
new_res <- data.frame(place_id = place_ids,
lat = lat,
lng = lng,
rating = ratings,
address = addr)
stores <- rbind(stores, new_res)
}
if cnt == 3 {
print("more than 60")
}
if cnt == 3 {
print("more than 60")
}
